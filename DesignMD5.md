# ft_ssl MD5 設計ドキュメント

## 使用方法

```
./ft_ssl md5 [flags] [file_path]
```

- `flags` オプションフラグ
- `file_path` ファイルパス

## 出力内容

STDINから入力をとった場合:

```
(stdin)= [digest]
```

`-p`オプションが指定されている場合は

```
("[INPUT_STDIN]")= [digest] 
```

`INPUT_STDIN`はSTDINからの入力内容.

ファイルから入力を取った場合は

```
MD5 ([FILE]) = [digest]
```

`FILE`はファイルパス.



## オプションフラグ

`md5sum`の振る舞いを再現しろ、と言われているが、`md5sum`にはこんなオプションはないんだよなあ・・・

- `-p` STDINから受け取った内容をSTDOUTにそのまま流し, 最後に(STDから受け取った内容の)ダイジェストを追記する
- `-q` クワイエットモード
    - ダイジェストだけを出力する
	- `-p`と同時指定された場合, 入力内容に続けて改行し, さらにダイジェストを出力して改行する
- `-r` ダイジェストとファイル名を出力する際, ダイジェスト→ファイル名の順に出力する
    - `md5sum`のフォーマットを使う
    - STDINからの入力については無視される
- `-s STRING` `STRING`についてダイジェストを計算する
    - 出力フォーマットは`MD5 ("STRING") = [digest]`

## 動作

- `argv[1...]`のうち, 先頭から`-`を接頭辞とする一連の要素はオプションとみなされ、解釈が試みられる。
    - 文字列`-`は空のオプションとみなされる
- オプション以降の`argv`はファイルパスとみなされる
- オプション内に`-p`があるか, もしくはファイルパスが1つもない場合は, STDINからのメッセージ読み取りを試みる
    - これは最初のメッセージとみなされる
- オプション内に`-s`がある場合, それに続く argv をメッセージとみなす
    - これは最初のメッセージとみなされるが, STDIN から読む場合はそちらが優先される
- オプション内に`-s`が複数ある場合の扱いは不明だが, ひとまず上書きすることにしておく
